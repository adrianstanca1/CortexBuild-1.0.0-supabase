import{r as e,j as s}from"./react-core-FGHlRSau.js";import{u as t,i as a,E as r,a as l,ba as i,Z as c,ap as d,D as n,A as m,b as x,bb as o,ac as h,aM as g,e as j,T as p}from"./icon-pack-tZfEXMDa.js";import"./vendor-BX0gT1qP.js";const u=({projectId:u,timeRange:v,onTimeRangeChange:y,className:N=""})=>{const[f,b]=e.useState(null),[w,S]=e.useState(!0),[R,P]=e.useState("overview"),[k,C]=e.useState({}),T={overview:{totalProjects:24,activeProjects:8,completedProjects:16,totalRevenue:25e5,monthlyRevenue:18e4,teamProductivity:87,completionRate:92,budgetUtilization:78},trends:{revenue:[{month:"Jan",value:15e4},{month:"Feb",value:165e3},{month:"Mar",value:18e4},{month:"Apr",value:175e3},{month:"May",value:19e4},{month:"Jun",value:18e4}],projects:[{month:"Jan",completed:3,started:2},{month:"Feb",completed:4,started:3},{month:"Mar",completed:2,started:4},{month:"Apr",completed:5,started:2},{month:"May",completed:3,started:3},{month:"Jun",completed:4,started:2}],productivity:[{week:"W1",score:85},{week:"W2",score:88},{week:"W3",score:82},{week:"W4",score:90}]},performance:{topPerformers:[{id:"1",name:"John Smith",role:"Project Manager",projectsCompleted:8,productivityScore:95,avatar:"/avatars/john.jpg"},{id:"2",name:"Sarah Johnson",role:"Site Supervisor",projectsCompleted:6,productivityScore:92,avatar:"/avatars/sarah.jpg"},{id:"3",name:"Mike Wilson",role:"Safety Officer",projectsCompleted:5,productivityScore:89,avatar:"/avatars/mike.jpg"}],projectHealth:[{id:"1",name:"Office Building Construction",status:"active",progress:75,budgetUsed:68,timelineStatus:"on-track",riskLevel:"low"},{id:"2",name:"Residential Complex",status:"active",progress:45,budgetUsed:52,timelineStatus:"delayed",riskLevel:"medium"},{id:"3",name:"Shopping Mall Renovation",status:"active",progress:90,budgetUsed:95,timelineStatus:"at-risk",riskLevel:"high"}]},insights:{recommendations:[{id:"1",title:"Optimize Resource Allocation",description:"Reallocate 2 team members from low-priority projects to high-impact initiatives",impact:"high",effort:"medium",category:"Resource Management"},{id:"2",title:"Implement Automated Reporting",description:"Set up automated daily progress reports to improve transparency",impact:"medium",effort:"low",category:"Process Improvement"},{id:"3",title:"Enhance Safety Training",description:"Schedule additional safety training sessions for new team members",impact:"high",effort:"low",category:"Safety"}],alerts:[{id:"1",type:"warning",title:"Budget Overrun Risk",message:"Shopping Mall Renovation project is approaching budget limit",timestamp:"2024-01-20T10:30:00Z"},{id:"2",type:"info",title:"Milestone Achieved",message:"Office Building Construction reached 75% completion",timestamp:"2024-01-20T09:15:00Z"},{id:"3",type:"error",title:"Safety Incident",message:"Minor safety incident reported at Residential Complex site",timestamp:"2024-01-19T16:45:00Z"}]}};e.useEffect(()=>{(async()=>{S(!0),await new Promise(e=>setTimeout(e,1e3)),b(T),S(!1)})()},[v,u]);const A=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),U=e=>`${e}%`,M=(e,t)=>e>t?s.jsx(l,{className:"w-4 h-4 text-green-600"}):e<t?s.jsx(p,{className:"w-4 h-4 text-red-600"}):null,L=e=>{switch(e){case"low":return"text-green-600 bg-green-50";case"medium":return"text-yellow-600 bg-yellow-50";case"high":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},I=e=>{switch(e){case"warning":return s.jsx(j,{className:"w-4 h-4 text-yellow-600"});case"error":return s.jsx(j,{className:"w-4 h-4 text-red-600"});case"info":return s.jsx(x,{className:"w-4 h-4 text-blue-600"});default:return s.jsx(x,{className:"w-4 h-4 text-gray-600"})}},$=e=>{switch(e){case"high":return"text-red-600 bg-red-50";case"medium":return"text-yellow-600 bg-yellow-50";case"low":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}};return w?s.jsx("div",{className:`analytics-dashboard ${N}`,children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):f?s.jsxs("div",{className:`analytics-dashboard bg-white rounded-lg shadow-sm border border-gray-200 ${N}`,children:[s.jsxs("div",{className:"border-b border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(t,{className:"w-6 h-6 text-blue-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Advanced Analytics"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("select",{value:v,onChange:e=>y(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:[s.jsx("option",{value:"7d",children:"Last 7 days"}),s.jsx("option",{value:"30d",children:"Last 30 days"}),s.jsx("option",{value:"90d",children:"Last 90 days"}),s.jsx("option",{value:"1y",children:"Last year"})]}),s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100",children:s.jsx(a,{className:"w-5 h-5"})}),s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100",children:s.jsx(r,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"flex gap-1 mt-4",children:[{id:"overview",label:"Overview",icon:s.jsx(t,{className:"w-4 h-4"})},{id:"trends",label:"Trends",icon:s.jsx(l,{className:"w-4 h-4"})},{id:"performance",label:"Performance",icon:s.jsx(i,{className:"w-4 h-4"})},{id:"insights",label:"Insights",icon:s.jsx(c,{className:"w-4 h-4"})}].map(e=>s.jsxs("button",{onClick:()=>P(e.id),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors "+(R===e.id?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"),children:[e.icon,e.label]},e.id))})]}),s.jsxs("div",{className:"p-6",children:["overview"===R&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-100 text-sm",children:"Total Projects"}),s.jsx("p",{className:"text-2xl font-bold",children:f.overview.totalProjects})]}),s.jsx(d,{className:"w-8 h-8 text-blue-200"})]}),s.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[M(f.overview.activeProjects,6),s.jsxs("span",{className:"text-sm text-blue-100",children:[f.overview.activeProjects," active"]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-6 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-green-100 text-sm",children:"Total Revenue"}),s.jsx("p",{className:"text-2xl font-bold",children:A(f.overview.totalRevenue)})]}),s.jsx(n,{className:"w-8 h-8 text-green-200"})]}),s.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[M(f.overview.monthlyRevenue,16e4),s.jsxs("span",{className:"text-sm text-green-100",children:[A(f.overview.monthlyRevenue)," this month"]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg p-6 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-100 text-sm",children:"Team Productivity"}),s.jsx("p",{className:"text-2xl font-bold",children:U(f.overview.teamProductivity)})]}),s.jsx(m,{className:"w-8 h-8 text-purple-200"})]}),s.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[M(f.overview.teamProductivity,82),s.jsx("span",{className:"text-sm text-purple-100",children:"+5% from last month"})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg p-6 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-100 text-sm",children:"Completion Rate"}),s.jsx("p",{className:"text-2xl font-bold",children:U(f.overview.completionRate)})]}),s.jsx(x,{className:"w-8 h-8 text-orange-200"})]}),s.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[M(f.overview.completionRate,88),s.jsx("span",{className:"text-sm text-orange-100",children:"+4% from last month"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Status"}),s.jsx(o,{className:"w-5 h-5 text-gray-400"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Completed"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:f.overview.completedProjects})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Active"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:f.overview.activeProjects})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:f.overview.totalProjects})]})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Budget Utilization"}),s.jsx(i,{className:"w-5 h-5 text-gray-400"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Current Usage"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:U(f.overview.budgetUtilization)})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${f.overview.budgetUtilization}%`}})}),s.jsx("p",{className:"text-xs text-gray-500",children:"22% remaining budget"})]})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"}),s.jsx(c,{className:"w-5 h-5 text-gray-400"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md",children:"Generate Report"}),s.jsx("button",{className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md",children:"Export Data"}),s.jsx("button",{className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-md",children:"Schedule Review"})]})]})]})]}),"trends"===R&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Revenue Trend"}),s.jsx(l,{className:"w-5 h-5 text-gray-400"})]}),s.jsx("div",{className:"space-y-2",children:f.trends.revenue.map((e,t)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:e.month}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:e.value/2e5*100+"%"}})}),s.jsx("span",{className:"text-sm font-medium text-gray-900 w-20 text-right",children:A(e.value)})]})]},t))})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Activity"}),s.jsx(h,{className:"w-5 h-5 text-gray-400"})]}),s.jsx("div",{className:"space-y-2",children:f.trends.projects.map((e,t)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:e.month}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsxs("span",{className:"text-sm text-gray-700",children:[e.completed," completed"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsxs("span",{className:"text-sm text-gray-700",children:[e.started," started"]})]})]})]},t))})]})]})}),"performance"===R&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Performers"}),s.jsx(g,{className:"w-5 h-5 text-gray-400"})]}),s.jsx("div",{className:"space-y-4",children:f.performance.topPerformers.map((e,t)=>s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-medium",children:e.name.split(" ").map(e=>e[0]).join("")})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:e.name}),s.jsxs("span",{className:"text-xs text-gray-500",children:["#",t+1]})]}),s.jsx("p",{className:"text-sm text-gray-600",children:e.role}),s.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[s.jsxs("span",{className:"text-xs text-gray-500",children:[e.projectsCompleted," projects completed"]}),s.jsxs("span",{className:"text-xs text-gray-500",children:[e.productivityScore,"% productivity"]})]})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${e.productivityScore}%`}})})})]},e.id))})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Health"}),s.jsx(m,{className:"w-5 h-5 text-gray-400"})]}),s.jsx("div",{className:"space-y-4",children:f.performance.projectHealth.map(e=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:e.name}),s.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${L(e.riskLevel)}`,children:[e.riskLevel," risk"]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Progress"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:U(e.progress)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Budget Used"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:U(e.budgetUsed)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Timeline"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:e.timelineStatus})]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${e.progress}%`}})})]},e.id))})]})]}),"insights"===R&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recommendations"}),s.jsx(c,{className:"w-5 h-5 text-gray-400"})]}),s.jsx("div",{className:"space-y-4",children:f.insights.recommendations.map(e=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:e.title}),s.jsxs("div",{className:"flex gap-1",children:[s.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${$(e.impact)}`,children:[e.impact," impact"]}),s.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${$(e.effort)}`,children:[e.effort," effort"]})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-500",children:e.category}),s.jsx("button",{className:"text-xs text-blue-600 hover:text-blue-800",children:"Implement"})]})]},e.id))})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Alerts"}),s.jsx(j,{className:"w-5 h-5 text-gray-400"})]}),s.jsx("div",{className:"space-y-4",children:f.insights.alerts.map(e=>s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:I(e.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:e.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.message}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(e.timestamp).toLocaleString()})]})]},e.id))})]})]})})]})]}):null},v=({currentUser:t,projectId:a})=>{const[r,l]=e.useState("30d");return s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Advanced Analytics"}),s.jsx("p",{className:"text-gray-600",children:"Comprehensive insights and performance metrics for your projects"})]}),s.jsx(u,{projectId:a,timeRange:r,onTimeRangeChange:e=>{l(e)},className:"min-h-[800px]"})]})};export{v as AdvancedAnalyticsScreen};
