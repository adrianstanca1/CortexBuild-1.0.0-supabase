import{r as e,j as s}from"./react-core-FGHlRSau.js";import{Z as t,r as a,bm as i,O as r,bk as c,g as n,P as d,W as o,A as l,ah as m,b as x,e as g,ba as u}from"./icon-pack-tZfEXMDa.js";import"./vendor-BX0gT1qP.js";const p=({projectId:p,onWorkflowSelect:h,onWorkflowExecute:y,className:f=""})=>{const[j,N]=e.useState([]),[b,v]=e.useState(!0),[w,A]=e.useState("all"),[k,I]=e.useState(!1),[C,T]=e.useState("grid"),S=[{id:"1",name:"Smart Safety Incident Response",description:"Automatically creates incident reports, notifies safety team, and schedules follow-up actions when safety incidents are detected.",category:"safety",triggers:[{id:"t1",name:"Safety Incident Detected",type:"event",description:"Triggers when a safety incident is reported",conditions:[{field:"incident_type",operator:"exists",value:null},{field:"severity",operator:"greater_than",value:"low"}],isActive:!0,triggerCount:12,lastTriggered:"2024-01-20T10:30:00Z"}],actions:[{id:"a1",name:"Create Incident Report",type:"task_creation",description:"Automatically generates incident report task",parameters:{taskType:"incident_report",priority:"high"},isActive:!0,executionCount:12,successRate:100},{id:"a2",name:"Notify Safety Team",type:"notification",description:"Sends immediate notification to safety officers",parameters:{recipients:["safety_team"],urgency:"high"},isActive:!0,executionCount:12,successRate:100}],isActive:!0,isAIEnhanced:!0,aiInsights:{optimizationSuggestions:["Consider adding severity-based routing to different safety teams","Implement predictive analysis for high-risk areas"],performanceMetrics:{efficiency:95,accuracy:98,timeSaved:45},predictedOutcomes:["Reduced incident response time by 60%","Improved safety compliance scores","Enhanced team coordination"]},createdAt:"2024-01-15T09:00:00Z",lastModified:"2024-01-18T14:30:00Z",executionHistory:[{id:"h1",timestamp:"2024-01-20T10:30:00Z",status:"success",details:"Incident report created and team notified",duration:120}]},{id:"2",name:"AI-Powered Project Health Monitoring",description:"Continuously monitors project metrics and automatically generates insights and recommendations using AI analysis.",category:"ai_insights",triggers:[{id:"t2",name:"Daily Health Check",type:"schedule",description:"Runs every day at 9 AM",conditions:[{field:"time",operator:"equals",value:"09:00"}],isActive:!0,triggerCount:15,lastTriggered:"2024-01-20T09:00:00Z"},{id:"t3",name:"Risk Threshold Exceeded",type:"condition",description:"Triggers when project risk score exceeds threshold",conditions:[{field:"risk_score",operator:"greater_than",value:75}],isActive:!0,triggerCount:3,lastTriggered:"2024-01-19T16:45:00Z"}],actions:[{id:"a3",name:"Generate Health Report",type:"ai_analysis",description:"AI analyzes project data and generates insights",parameters:{analysisType:"comprehensive",includeRecommendations:!0},isActive:!0,executionCount:18,successRate:94},{id:"a4",name:"Send Alert to PM",type:"notification",description:"Notifies project manager of critical issues",parameters:{recipients:["project_manager"],urgency:"medium"},isActive:!0,executionCount:3,successRate:100}],isActive:!0,isAIEnhanced:!0,aiInsights:{optimizationSuggestions:["Add more granular risk indicators","Implement predictive timeline analysis"],performanceMetrics:{efficiency:88,accuracy:92,timeSaved:120},predictedOutcomes:["Proactive risk identification","Improved project success rates","Reduced manual monitoring effort"]},createdAt:"2024-01-10T08:00:00Z",lastModified:"2024-01-19T11:20:00Z",executionHistory:[{id:"h2",timestamp:"2024-01-20T09:00:00Z",status:"success",details:"Health report generated successfully",duration:45}]},{id:"3",name:"Automated Quality Control",description:"Monitors quality metrics and automatically creates corrective action tasks when quality standards are not met.",category:"quality",triggers:[{id:"t4",name:"Quality Check Failed",type:"event",description:"Triggers when quality inspection fails",conditions:[{field:"quality_score",operator:"less_than",value:85}],isActive:!0,triggerCount:7,lastTriggered:"2024-01-19T14:20:00Z"}],actions:[{id:"a5",name:"Create Corrective Action",type:"task_creation",description:"Creates corrective action task",parameters:{taskType:"corrective_action",priority:"medium"},isActive:!0,executionCount:7,successRate:100},{id:"a6",name:"Notify Quality Team",type:"email",description:"Sends email to quality assurance team",parameters:{template:"quality_alert",recipients:["qa_team"]},isActive:!0,executionCount:7,successRate:100}],isActive:!0,isAIEnhanced:!1,aiInsights:{optimizationSuggestions:["Add AI-powered root cause analysis","Implement predictive quality modeling"],performanceMetrics:{efficiency:78,accuracy:85,timeSaved:30},predictedOutcomes:["Faster quality issue resolution","Improved quality standards","Reduced rework costs"]},createdAt:"2024-01-12T10:30:00Z",lastModified:"2024-01-17T09:15:00Z",executionHistory:[{id:"h3",timestamp:"2024-01-19T14:20:00Z",status:"success",details:"Corrective action created and team notified",duration:90}]}];e.useEffect(()=>{(async()=>{v(!0),await new Promise(e=>setTimeout(e,1e3)),N(S),v(!1)})()},[p]);const _=e=>{switch(e){case"project_management":return s.jsx(u,{className:"w-5 h-5 text-blue-600"});case"safety":return s.jsx(g,{className:"w-5 h-5 text-red-600"});case"quality":return s.jsx(x,{className:"w-5 h-5 text-green-600"});case"communication":return s.jsx(m,{className:"w-5 h-5 text-purple-600"});case"reporting":return s.jsx(l,{className:"w-5 h-5 text-orange-600"});case"ai_insights":return s.jsx(c,{className:"w-5 h-5 text-indigo-600"});default:return s.jsx(o,{className:"w-5 h-5 text-gray-600"})}},R=e=>{switch(e){case"project_management":return"bg-blue-50 text-blue-700 border-blue-200";case"safety":return"bg-red-50 text-red-700 border-red-200";case"quality":return"bg-green-50 text-green-700 border-green-200";case"communication":return"bg-purple-50 text-purple-700 border-purple-200";case"reporting":return"bg-orange-50 text-orange-700 border-orange-200";case"ai_insights":return"bg-indigo-50 text-indigo-700 border-indigo-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},q=j.filter(e=>{const s="all"===w||e.category===w,t=k||e.isActive;return s&&t}),E=["all",...Array.from(new Set(j.map(e=>e.category)))];return b?s.jsx("div",{className:`ai-workflow-automation ${f}`,children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading AI workflows..."})]})})})}):s.jsx("div",{className:`ai-workflow-automation ${f}`,children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"border-b border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(t,{className:"w-6 h-6 text-blue-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"AI Workflow Automation"}),s.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:[j.filter(e=>e.isActive).length," active"]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(a,{className:"w-4 h-4"}),"Create Workflow"]})})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-600",children:"Category:"}),s.jsx("select",{value:w,onChange:e=>A(e.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:E.map(e=>s.jsx("option",{value:e,children:"all"===e?"All Categories":e.replace("_"," ")},e))})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx("input",{type:"checkbox",checked:k,onChange:e=>I(e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),"Show inactive"]})}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{onClick:()=>T("grid"===C?"list":"grid"),className:"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100",children:"grid"===C?s.jsx(i,{className:"w-4 h-4"}):s.jsx(r,{className:"w-4 h-4"})})})]})]}),s.jsxs("div",{className:"p-6",children:["grid"===C?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:q.map(e=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>h(e),children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[_(e.category),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${R(e.category)}`,children:e.category.replace("_"," ")})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[e.isAIEnhanced&&s.jsx(c,{className:"w-4 h-4 text-indigo-600",title:"AI Enhanced"}),s.jsx("div",{className:"w-3 h-3 rounded-full "+(e.isActive?"bg-green-500":"bg-gray-400")})]})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.name}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:e.description}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.triggers.length}),s.jsx("p",{className:"text-xs text-gray-500",children:"Triggers"})]}),s.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.actions.length}),s.jsx("p",{className:"text-xs text-gray-500",children:"Actions"})]})]}),e.isAIEnhanced&&s.jsxs("div",{className:"bg-indigo-50 rounded-lg p-3 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(c,{className:"w-4 h-4 text-indigo-600"}),s.jsx("span",{className:"text-sm font-medium text-indigo-900",children:"AI Performance"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"font-medium text-indigo-900",children:[e.aiInsights.performanceMetrics.efficiency,"%"]}),s.jsx("p",{className:"text-indigo-600",children:"Efficiency"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"font-medium text-indigo-900",children:[e.aiInsights.performanceMetrics.accuracy,"%"]}),s.jsx("p",{className:"text-indigo-600",children:"Accuracy"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"font-medium text-indigo-900",children:[e.aiInsights.performanceMetrics.timeSaved,"m"]}),s.jsx("p",{className:"text-indigo-600",children:"Time Saved"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[s.jsx(n,{className:"w-4 h-4"}),s.jsxs("span",{children:["Last run: ",new Date(e.executionHistory[0]?.timestamp||e.createdAt).toLocaleDateString()]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("button",{onClick:s=>{s.stopPropagation(),y(e.id)},className:"px-3 py-1 text-sm text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors flex items-center gap-1",children:[s.jsx(d,{className:"w-3 h-3"}),"Run"]})})]})]},e.id))}):s.jsx("div",{className:"space-y-4",children:q.map(e=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>h(e),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[_(e.category),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${R(e.category)}`,children:e.category.replace("_"," ")}),e.isAIEnhanced&&s.jsx(c,{className:"w-4 h-4 text-indigo-600",title:"AI Enhanced"}),s.jsx("div",{className:"w-3 h-3 rounded-full "+(e.isActive?"bg-green-500":"bg-gray-400")})]}),s.jsx("p",{className:"text-gray-600 mb-3",children:e.description}),s.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500",children:[s.jsxs("span",{children:[e.triggers.length," triggers"]}),s.jsxs("span",{children:[e.actions.length," actions"]}),s.jsxs("span",{children:["Last run: ",new Date(e.executionHistory[0]?.timestamp||e.createdAt).toLocaleDateString()]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("button",{onClick:s=>{s.stopPropagation(),y(e.id)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-2",children:[s.jsx(d,{className:"w-4 h-4"}),"Run Now"]})})]})},e.id))}),0===q.length&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(o,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No workflows found"}),s.jsx("p",{className:"text-gray-600",children:"Create your first AI-powered workflow to automate your processes."})]})]})]})})},h=({currentUser:t,projectId:a})=>{const[i,r]=e.useState(null);return s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"AI Workflow Automation"}),s.jsx("p",{className:"text-gray-600",children:"Automate your processes with AI-powered workflows and triggers"})]}),s.jsx(p,{projectId:a,onWorkflowSelect:e=>{r(e)},onWorkflowExecute:e=>{},className:"mb-6"}),i&&s.jsxs("div",{className:"mt-6 p-6 bg-indigo-50 border border-indigo-200 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-indigo-900 mb-4",children:"Workflow Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-indigo-900 mb-2",children:"Triggers"}),s.jsx("div",{className:"space-y-2",children:i.triggers.map((e,t)=>s.jsxs("div",{className:"p-3 bg-white rounded border",children:[s.jsx("p",{className:"font-medium text-gray-900",children:e.name}),s.jsx("p",{className:"text-sm text-gray-600",children:e.description}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Triggered ",e.triggerCount," times"]})]},t))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-indigo-900 mb-2",children:"Actions"}),s.jsx("div",{className:"space-y-2",children:i.actions.map((e,t)=>s.jsxs("div",{className:"p-3 bg-white rounded border",children:[s.jsx("p",{className:"font-medium text-gray-900",children:e.name}),s.jsx("p",{className:"text-sm text-gray-600",children:e.description}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.successRate,"% success rate"]})]},t))})]})]})]})]})};export{h as AIWorkflowScreen};
