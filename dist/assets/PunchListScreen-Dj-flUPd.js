import{r as e,j as s}from"./react-core-FGHlRSau.js";import{F as t,I as a,g as r,ac as l}from"./module-screens-Dy02k3Q1.js";import"./vendor-BX0gT1qP.js";import"./google-ai-BrP-uSwO.js";import"./developer-tools-B-VjJpHg.js";import"./supabase-DKHGIEFa.js";import"./axios-ei4kQ0Q2.js";import"./icon-pack-tZfEXMDa.js";import"./monaco-Bh77eHRb.js";const i=e=>{switch(e){case"Open":return"bg-red-100 text-red-800";case"Ready for Review":return"bg-yellow-100 text-yellow-800";case"Closed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},c=({project:c,navigateTo:n,goBack:o,currentUser:d})=>{const[m,x]=e.useState([]),[u,h]=e.useState(!0),p=["company_admin","supervisor","super_admin"].includes(d.role);return e.useEffect(()=>{(async()=>{h(!0);const e=await l(c.id);x(e),h(!1)})()},[c.id]),s.jsxs("div",{className:"flex flex-col h-full max-w-4xl mx-auto",children:[s.jsxs("header",{className:"bg-white p-4 flex justify-between items-center border-b mb-8",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:o,className:"mr-4 p-2 rounded-full hover:bg-gray-100",children:s.jsx(t,{className:"w-6 h-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Punch List"}),s.jsx("p",{className:"text-sm text-gray-500",children:c.name})]})]}),p&&s.jsx("button",{onClick:()=>n("new-punch-list-item"),className:"bg-blue-600 text-white p-2.5 rounded-full shadow hover:bg-blue-700",children:s.jsx(a,{className:"w-6 h-6"})})]}),s.jsx("main",{className:"flex-grow bg-white rounded-lg shadow-md border border-gray-100",children:u?s.jsx("p",{className:"text-center text-gray-500 p-8",children:"Loading punch list items..."}):s.jsx("ul",{className:"divide-y divide-gray-200",children:0===m.length?s.jsx("p",{className:"p-4 text-sm text-center text-gray-500",children:"No punch list items found."}):m.map(e=>s.jsxs("li",{onClick:()=>n("punch-list-item-detail",{itemId:e.id}),className:"p-4 flex items-center justify-between hover:bg-gray-50 cursor-pointer",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(r,{className:"w-8 h-8 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-800",children:e.title}),s.jsx("p",{className:"text-sm text-gray-500",children:e.location})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${i(e.status)}`,children:e.status})})]},e.id))})})]})};export{c as default};
