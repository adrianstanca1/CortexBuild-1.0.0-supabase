import{r as e,j as s}from"./react-core-FGHlRSau.js";import{af as t,t as a,by as i,b as r,aY as l,ap as n,ah as o,r as c,ae as d,ad as x,aw as m,aN as h,U as g,E as p,I as u,bz as b,bq as j,y,e as f,f as N}from"./icon-pack-tZfEXMDa.js";import"./vendor-BX0gT1qP.js";const v=({currentUser:v,navigateTo:w,isDarkMode:k=!0})=>{const[C,S]=e.useState("home"),[$,O]=e.useState(!1),[D,A]=e.useState(!0),[M,R]=e.useState(null),[T]=e.useState([{id:"1",title:"Foundation Inspection",description:"Complete quality inspection of foundation work",status:"in-progress",priority:"high",assignee:"Emily Rodriguez",dueDate:"2024-03-15",location:"Building A, Level 1",photos:["/photos/foundation-1.jpg","/photos/foundation-2.jpg"],notes:"Check for cracks and proper reinforcement",isOffline:!1},{id:"2",title:"Safety Protocol Review",description:"Review and update safety protocols",status:"todo",priority:"medium",assignee:"Sarah Johnson",dueDate:"2024-03-18",location:"Office Building",photos:[],notes:"Update emergency procedures",isOffline:!0},{id:"3",title:"Material Delivery",description:"Receive steel beam delivery",status:"completed",priority:"urgent",assignee:"Mike Chen",dueDate:"2024-03-14",location:"Loading Dock",photos:["/photos/steel-delivery.jpg"],notes:"All materials received and inspected",isOffline:!1}]),[E]=e.useState([{id:"1",name:"Downtown Office Complex",status:"active",progress:75,location:"Downtown District",teamSize:24,nextMilestone:"Foundation Complete",photos:["/photos/project-1.jpg","/photos/project-2.jpg"],isOffline:!1},{id:"2",name:"Residential Tower Phase 2",status:"planning",progress:15,location:"Westside",teamSize:18,nextMilestone:"Permit Approval",photos:["/photos/project-3.jpg"],isOffline:!0}]),[U]=e.useState([{id:"1",name:"Sarah Johnson",role:"Project Manager",avatar:"/avatars/sarah.jpg",status:"online",location:"Office Building",lastSeen:"now",isOffline:!1},{id:"2",name:"Mike Chen",role:"Site Supervisor",avatar:"/avatars/mike.jpg",status:"busy",location:"Building A",lastSeen:"5 minutes ago",isOffline:!1},{id:"3",name:"Emily Rodriguez",role:"Safety Officer",avatar:"/avatars/emily.jpg",status:"online",location:"Foundation Site",lastSeen:"now",isOffline:!0}]),[z]=e.useState([{id:"1",title:"Task Completed",message:"Foundation inspection completed by Emily Rodriguez",type:"success",timestamp:"2 hours ago",isRead:!1,actionUrl:"/task/1",isOffline:!1},{id:"2",title:"Safety Alert",message:"New safety protocol update available",type:"warning",timestamp:"4 hours ago",isRead:!0,actionUrl:"/safety/protocols",isOffline:!0},{id:"3",title:"Material Delivery",message:"Steel beams delivered to loading dock",type:"info",timestamp:"6 hours ago",isRead:!1,actionUrl:"/delivery/steel",isOffline:!1}]);e.useEffect(()=>{const e=setTimeout(()=>A(!1),1e3);return()=>clearTimeout(e)},[]),e.useEffect(()=>{const e=()=>O(!1),s=()=>O(!0);return window.addEventListener("online",e),window.addEventListener("offline",s),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}},[]);const L=e=>({todo:"bg-gray-500","in-progress":"bg-blue-500",completed:"bg-green-500",online:"bg-green-500",offline:"bg-gray-500",busy:"bg-red-500",active:"bg-green-500",planning:"bg-blue-500"}[e]||"bg-gray-500"),P=e=>{return s.jsxs("div",{className:`group relative overflow-hidden rounded-2xl border ${k?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} p-4 transition-all duration-300 hover:scale-105 hover:shadow-2xl cursor-pointer`,onClick:()=>w("task-detail",{taskId:e.id}),children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${L(e.status)}`}),s.jsx("span",{className:`text-sm font-medium ${t=e.priority,{low:"text-green-400",medium:"text-yellow-400",high:"text-orange-400",urgent:"text-red-400"}[t]||"text-gray-400"}`,children:e.priority.toUpperCase()}),e.isOffline&&s.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"})]}),s.jsx(j,{className:"w-5 h-5 text-gray-400 group-hover:text-gray-300"})]}),s.jsx("h3",{className:"text-lg font-bold mb-2 "+(k?"text-white":"text-gray-900"),children:e.title}),s.jsx("p",{className:`text-sm ${k?"text-gray-400":"text-gray-600"} mb-3`,children:e.description}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm "+(k?"text-gray-400":"text-gray-600"),children:"Assignee"}),s.jsx("span",{className:"text-sm font-medium "+(k?"text-white":"text-gray-900"),children:e.assignee})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm "+(k?"text-gray-400":"text-gray-600"),children:"Due Date"}),s.jsx("span",{className:"text-sm font-medium "+(k?"text-white":"text-gray-900"),children:e.dueDate})]}),e.location&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm "+(k?"text-gray-400":"text-gray-600"),children:"Location"}),s.jsx("span",{className:"text-sm font-medium "+(k?"text-white":"text-gray-900"),children:e.location})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-gray-700",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[e.photos.length>0&&s.jsxs("div",{className:"flex items-center space-x-1 text-gray-400",children:[s.jsx(d,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs",children:e.photos.length})]}),e.notes&&s.jsxs("div",{className:"flex items-center space-x-1 text-gray-400",children:[s.jsx(m,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs",children:"Notes"})]})]}),s.jsx(y,{className:"w-5 h-5 text-gray-400 group-hover:text-gray-300 group-hover:translate-x-1 transition-transform"})]})]},e.id);var t},I=e=>s.jsxs("div",{className:`group relative overflow-hidden rounded-2xl border ${k?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} p-4 transition-all duration-300 hover:scale-105 hover:shadow-2xl cursor-pointer`,onClick:()=>w("project-home",{projectId:e.id}),children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${L(e.status)}`}),s.jsx("span",{className:"text-sm font-medium "+(k?"text-white":"text-gray-900"),children:e.status.toUpperCase()}),e.isOffline&&s.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"})]}),s.jsx(j,{className:"w-5 h-5 text-gray-400 group-hover:text-gray-300"})]}),s.jsx("h3",{className:"text-lg font-bold mb-2 "+(k?"text-white":"text-gray-900"),children:e.name}),s.jsx("p",{className:`text-sm ${k?"text-gray-400":"text-gray-600"} mb-3`,children:e.location}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:k?"text-gray-400":"text-gray-600",children:"Progress"}),s.jsxs("span",{className:k?"text-white":"text-gray-900",children:[e.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-500",style:{width:`${e.progress}%`}})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm "+(k?"text-gray-400":"text-gray-600"),children:"Team Size"}),s.jsxs("span",{className:"text-sm font-medium "+(k?"text-white":"text-gray-900"),children:[e.teamSize," members"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm "+(k?"text-gray-400":"text-gray-600"),children:"Next Milestone"}),s.jsx("span",{className:"text-sm font-medium "+(k?"text-white":"text-gray-900"),children:e.nextMilestone})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-gray-700",children:[s.jsx("div",{className:"flex items-center space-x-3",children:e.photos.length>0&&s.jsxs("div",{className:"flex items-center space-x-1 text-gray-400",children:[s.jsx(d,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs",children:e.photos.length})]})}),s.jsx(y,{className:"w-5 h-5 text-gray-400 group-hover:text-gray-300 group-hover:translate-x-1 transition-transform"})]})]},e.id);return D?s.jsx("div",{className:"min-h-screen flex items-center justify-center "+(k?"bg-gray-900":"bg-gray-50"),children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),s.jsx("p",{className:"text-lg font-medium "+(k?"text-white":"text-gray-900"),children:"Loading Mobile Experience..."})]})}):s.jsxs("div",{className:"min-h-screen "+(k?"bg-gray-900":"bg-gray-50"),children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-orange-600 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx(t,{className:"w-6 h-6 text-white"}),s.jsx("h1",{className:"text-xl font-bold text-white",children:"Mobile Hub"})]}),s.jsx("p",{className:"text-purple-100 text-sm",children:"Optimized mobile experience"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[$&&s.jsx("div",{className:"px-2 py-1 bg-orange-500 text-white text-xs rounded-full",children:"Offline"}),s.jsx("button",{type:"button",onClick:()=>w("mobile-settings"),className:"p-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-all backdrop-blur-sm",children:s.jsx(a,{className:"w-5 h-5"})})]})]})}),s.jsx("div",{className:"flex space-x-1 p-1 bg-gray-800 rounded-xl mx-4 mt-4",children:[{id:"home",label:"Home",icon:i},{id:"tasks",label:"Tasks",icon:r},{id:"projects",label:"Projects",icon:l},{id:"team",label:"Team",icon:n},{id:"notifications",label:"Alerts",icon:o}].map(e=>{const t=e.icon;return s.jsxs("button",{type:"button",onClick:()=>S(e.id),className:"flex-1 flex flex-col items-center justify-center py-2 px-1 rounded-lg font-medium transition-all "+(C===e.id?"bg-purple-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-700"),children:[s.jsx(t,{className:"w-5 h-5 mb-1"}),s.jsx("span",{className:"text-xs",children:e.label})]},e.id)})}),s.jsxs("div",{className:"px-4 py-6",children:["home"===C&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold mb-4 "+(k?"text-white":"text-gray-900"),children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>w("new-task"),className:`p-4 rounded-2xl border ${k?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} transition-all duration-300 hover:scale-105 hover:shadow-2xl`,children:[s.jsx(c,{className:"w-8 h-8 text-purple-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm font-medium "+(k?"text-white":"text-gray-900"),children:"New Task"})]}),s.jsxs("button",{type:"button",onClick:()=>w("photo-capture"),className:`p-4 rounded-2xl border ${k?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} transition-all duration-300 hover:scale-105 hover:shadow-2xl`,children:[s.jsx(d,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm font-medium "+(k?"text-white":"text-gray-900"),children:"Take Photo"})]}),s.jsxs("button",{type:"button",onClick:()=>w("location-tracking"),className:`p-4 rounded-2xl border ${k?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} transition-all duration-300 hover:scale-105 hover:shadow-2xl`,children:[s.jsx(x,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm font-medium "+(k?"text-white":"text-gray-900"),children:"Check In"})]}),s.jsxs("button",{type:"button",onClick:()=>w("daily-log"),className:`p-4 rounded-2xl border ${k?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} transition-all duration-300 hover:scale-105 hover:shadow-2xl`,children:[s.jsx(m,{className:"w-8 h-8 text-orange-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm font-medium "+(k?"text-white":"text-gray-900"),children:"Daily Log"})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-bold "+(k?"text-white":"text-gray-900"),children:"Recent Tasks"}),s.jsxs("button",{type:"button",onClick:()=>S("tasks"),className:"text-purple-400 hover:text-purple-300 flex items-center space-x-1",children:[s.jsx("span",{className:"text-sm",children:"View All"}),s.jsx(h,{className:"w-4 h-4"})]})]}),s.jsx("div",{className:"space-y-3",children:T.slice(0,2).map(P)})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-bold "+(k?"text-white":"text-gray-900"),children:"Active Projects"}),s.jsxs("button",{type:"button",onClick:()=>S("projects"),className:"text-purple-400 hover:text-purple-300 flex items-center space-x-1",children:[s.jsx("span",{className:"text-sm",children:"View All"}),s.jsx(h,{className:"w-4 h-4"})]})]}),s.jsx("div",{className:"space-y-3",children:E.slice(0,1).map(I)})]})]}),"tasks"===C&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-bold "+(k?"text-white":"text-gray-900"),children:"All Tasks"}),s.jsx("button",{type:"button",onClick:()=>w("new-task"),className:"p-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:s.jsx(c,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"space-y-3",children:T.map(P)})]}),"projects"===C&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-bold "+(k?"text-white":"text-gray-900"),children:"All Projects"}),s.jsx("button",{type:"button",onClick:()=>w("projects"),className:"p-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:s.jsx(c,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"space-y-3",children:E.map(I)})]}),"team"===C&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-bold "+(k?"text-white":"text-gray-900"),children:"Team Members"}),s.jsx("button",{type:"button",onClick:()=>w("team-management"),className:"p-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:s.jsx(c,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"space-y-2",children:U.map(e=>s.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${k?"hover:bg-gray-700":"hover:bg-gray-100"} transition-colors cursor-pointer`,onClick:()=>w("team-member-detail",{memberId:e.id}),children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:e.name.split(" ").map(e=>e[0]).join("")}),s.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 ${k?"border-gray-800":"border-white"} ${L(e.status)}`}),e.isOffline&&s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-orange-500 rounded-full"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("p",{className:`text-sm font-medium ${k?"text-white":"text-gray-900"} truncate`,children:e.name})}),s.jsx("p",{className:`text-xs ${k?"text-gray-400":"text-gray-600"} truncate`,children:e.role}),e.location&&s.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.location})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"text-xs "+(k?"text-gray-400":"text-gray-600"),children:e.lastSeen})})]},e.id))})]}),"notifications"===C&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-bold "+(k?"text-white":"text-gray-900"),children:"Notifications"}),s.jsx("button",{type:"button",onClick:()=>w("notification-settings"),className:"p-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:s.jsx(a,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"space-y-2",children:z.map(e=>{return s.jsxs("div",{className:`flex items-start space-x-3 p-4 rounded-lg ${k?"bg-gray-800 hover:bg-gray-700":"bg-white hover:bg-gray-50"} transition-colors cursor-pointer ${e.isRead?"":"border-l-4 border-blue-500"}`,onClick:()=>{e.actionUrl&&w(e.actionUrl)},children:[s.jsxs("div",{className:`p-2 rounded-lg ${t=e.type,{info:"bg-blue-500",success:"bg-green-500",warning:"bg-yellow-500",error:"bg-red-500"}[t]||"bg-gray-500"}`,children:["success"===e.type&&s.jsx(r,{className:"w-5 h-5 text-white"}),"warning"===e.type&&s.jsx(f,{className:"w-5 h-5 text-white"}),"error"===e.type&&s.jsx(N,{className:"w-5 h-5 text-white"}),"info"===e.type&&s.jsx(u,{className:"w-5 h-5 text-white"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"text-sm font-medium "+(k?"text-white":"text-gray-900"),children:e.title}),e.isOffline&&s.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"})]}),s.jsx("p",{className:`text-xs ${k?"text-gray-400":"text-gray-600"} mt-1`,children:e.message}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.timestamp})]}),!e.isRead&&s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]},e.id);var t})})]})]}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 border-t border-gray-700 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{type:"button",onClick:()=>w("mobile-sync"),className:`flex items-center space-x-2 px-3 py-2 rounded-lg ${$?"bg-orange-500":"bg-green-500"} text-white`,children:[$?s.jsx(g,{className:"w-4 h-4"}):s.jsx(p,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:$?"Sync":"Synced"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{type:"button",onClick:()=>w("mobile-help"),className:"p-2 hover:bg-gray-700 rounded-lg",children:s.jsx(u,{className:"w-5 h-5 text-gray-400"})}),s.jsx("button",{type:"button",onClick:()=>w("mobile-menu"),className:"p-2 hover:bg-gray-700 rounded-lg",children:s.jsx(b,{className:"w-5 h-5 text-gray-400"})})]})]})})]})};export{v as default};
