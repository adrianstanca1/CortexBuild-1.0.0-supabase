import{r as e,j as s}from"./react-core-FGHlRSau.js";import{b9 as t,i as r,t as a,bp as n,a7 as i,e as c,I as o,D as l,aG as d,ac as m,aj as x,at as u,f as g,b as h}from"./icon-pack-tZfEXMDa.js";import"./vendor-BX0gT1qP.js";const p=({currentUser:p,onIntegrationConnect:b,onIntegrationDisconnect:y,onIntegrationConfigure:j,className:f=""})=>{const[N,v]=e.useState([]),[w,S]=e.useState(!0),[k,C]=e.useState("all"),[T,I]=e.useState(null),F=[{id:"quickbooks",name:"QuickBooks Online",description:"Sync invoices, expenses, and financial data with QuickBooks Online",category:"accounting",icon:l,status:"connected",lastSync:"2024-01-20T10:30:00Z",syncStatus:"success",features:["Invoice Sync","Expense Tracking","Financial Reports","Tax Integration"],setupRequired:!1,permissions:["Read invoices","Write expenses","Access reports"],dataFlow:{direction:"bidirectional",frequency:"hourly",lastSync:"2024-01-20T10:30:00Z"}},{id:"stripe",name:"Stripe Payments",description:"Process payments and manage subscriptions through Stripe",category:"payment",icon:d,status:"connected",lastSync:"2024-01-20T10:25:00Z",syncStatus:"success",features:["Payment Processing","Subscription Management","Invoice Generation","Refund Handling"],setupRequired:!1,permissions:["Process payments","Manage subscriptions","Access transaction data"],dataFlow:{direction:"bidirectional",frequency:"realtime",lastSync:"2024-01-20T10:25:00Z"}},{id:"google-calendar",name:"Google Calendar",description:"Sync project deadlines and team schedules with Google Calendar",category:"productivity",icon:m,status:"disconnected",features:["Event Sync","Deadline Tracking","Team Scheduling","Meeting Integration"],setupRequired:!0,permissions:["Read calendar","Create events","Update events"],dataFlow:{direction:"bidirectional",frequency:"hourly"}},{id:"slack",name:"Slack",description:"Send project notifications and updates to Slack channels",category:"communication",icon:x,status:"connected",lastSync:"2024-01-20T09:45:00Z",syncStatus:"success",features:["Project Notifications","Team Updates","File Sharing","Bot Commands"],setupRequired:!1,permissions:["Send messages","Upload files","Create channels"],dataFlow:{direction:"outbound",frequency:"realtime",lastSync:"2024-01-20T09:45:00Z"}},{id:"microsoft-teams",name:"Microsoft Teams",description:"Integrate with Microsoft Teams for project communication",category:"communication",icon:x,status:"disconnected",features:["Team Chat","Video Meetings","File Collaboration","Project Updates"],setupRequired:!0,permissions:["Send messages","Schedule meetings","Access files"],dataFlow:{direction:"bidirectional",frequency:"hourly"}},{id:"dropbox",name:"Dropbox",description:"Sync project files and documents with Dropbox storage",category:"storage",icon:u,status:"error",lastSync:"2024-01-19T15:20:00Z",syncStatus:"error",features:["File Sync","Document Sharing","Version Control","Backup"],setupRequired:!0,permissions:["Read files","Write files","Share files"],dataFlow:{direction:"bidirectional",frequency:"hourly",lastSync:"2024-01-19T15:20:00Z"}},{id:"google-drive",name:"Google Drive",description:"Store and share project documents through Google Drive",category:"storage",icon:u,status:"disconnected",features:["Document Storage","File Sharing","Collaborative Editing","Version History"],setupRequired:!0,permissions:["Read files","Write files","Share files"],dataFlow:{direction:"bidirectional",frequency:"daily"}},{id:"xero",name:"Xero",description:"Alternative accounting integration with Xero for financial management",category:"accounting",icon:l,status:"disconnected",features:["Invoice Management","Expense Tracking","Bank Reconciliation","Financial Reporting"],setupRequired:!0,permissions:["Read invoices","Write expenses","Access reports"],dataFlow:{direction:"bidirectional",frequency:"daily"}}];e.useEffect(()=>{(async()=>{S(!0),await new Promise(e=>setTimeout(e,1e3)),v(F),S(!1)})()},[]);const R=e=>{switch(e){case"accounting":return"bg-green-50 text-green-700 border-green-200";case"payment":return"bg-blue-50 text-blue-700 border-blue-200";case"communication":return"bg-purple-50 text-purple-700 border-purple-200";case"storage":default:return"bg-gray-50 text-gray-700 border-gray-200";case"productivity":return"bg-orange-50 text-orange-700 border-orange-200"}},P=e=>{switch(e){case"connected":return s.jsx(h,{className:"w-5 h-5 text-green-600"});case"disconnected":default:return s.jsx(g,{className:"w-5 h-5 text-gray-400"});case"error":return s.jsx(c,{className:"w-5 h-5 text-red-600"});case"pending":return s.jsx(r,{className:"w-5 h-5 text-yellow-600 animate-spin"})}},q=e=>{switch(e){case"success":return"text-green-600";case"error":return"text-red-600";case"pending":return"text-yellow-600";default:return"text-gray-400"}},A=N.filter(e=>"all"===k||e.category===k),D=["all",...Array.from(new Set(N.map(e=>e.category)))];return w?s.jsx("div",{className:`third-party-integrations ${f}`,children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading integrations..."})]})})})}):s.jsxs("div",{className:`third-party-integrations ${f}`,children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"border-b border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(t,{className:"w-6 h-6 text-blue-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Third-Party Integrations"}),s.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:[N.filter(e=>"connected"===e.status).length," connected"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100",children:s.jsx(r,{className:"w-5 h-5"})}),s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100",children:s.jsx(a,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"flex items-center gap-4 mt-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-600",children:"Category:"}),s.jsx("select",{value:k,onChange:e=>C(e.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:D.map(e=>s.jsx("option",{value:e,children:"all"===e?"All Categories":e.charAt(0).toUpperCase()+e.slice(1)},e))})]})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(e=>{const t=e.icon;return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(t,{className:"w-8 h-8 text-gray-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${R(e.category)}`,children:e.category})]})]}),s.jsx("div",{className:"flex items-center gap-1",children:P(e.status)})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:e.description}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Features"}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.features.slice(0,3).map(e=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:e},e)),e.features.length>3&&s.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:["+",e.features.length-3," more"]})]})]}),e.lastSync&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Last sync:"}),s.jsx("span",{className:`font-medium ${q(e.syncStatus)}`,children:new Date(e.lastSync).toLocaleString()})]}),e.dataFlow&&s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:e.dataFlow.frequency}),s.jsx("span",{children:e.dataFlow.direction})]})]}),s.jsx("div",{className:"flex gap-2",children:"connected"===e.status?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>{return s=e.id,void j(s);var s},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700",children:[s.jsx(a,{className:"w-4 h-4"}),"Configure"]}),s.jsxs("button",{onClick:()=>{return s=e.id,void y(s);var s},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-red-600 text-white text-sm rounded-md hover:bg-red-700",children:[s.jsx(n,{className:"w-4 h-4"}),"Disconnect"]})]}):s.jsxs("button",{onClick:()=>{return s=e.id,I(s),void b(s);var s},className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700",children:[s.jsx(i,{className:"w-4 h-4"}),"Connect"]})}),"error"===e.status&&s.jsxs("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded text-xs text-red-800",children:[s.jsx(c,{className:"w-3 h-3 inline mr-1"}),"Connection error. Click configure to retry."]}),e.setupRequired&&"disconnected"===e.status&&s.jsxs("div",{className:"mt-3 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-800",children:[s.jsx(o,{className:"w-3 h-3 inline mr-1"}),"Setup required before connecting."]})]},e.id)})}),0===A.length&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(t,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No integrations found"}),s.jsx("p",{className:"text-gray-600",children:"Try adjusting your category filter or add new integrations."})]})]})]}),T&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Setup Integration"}),s.jsx("button",{onClick:()=>I(null),className:"p-2 text-gray-400 hover:text-gray-600",children:s.jsx(X,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Key"}),s.jsx("input",{type:"password",placeholder:"Enter your API key",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Webhook URL (Optional)"}),s.jsx("input",{type:"url",placeholder:"https://your-domain.com/webhook",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>I(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{onClick:()=>I(null),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Connect"})]})]})]})})]})},b=({currentUser:t,projectId:r})=>{const[a,n]=e.useState([]);return s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Third-Party Integrations"}),s.jsx("p",{className:"text-gray-600",children:"Connect CortexBuild with your favorite business tools and services"})]}),s.jsx(p,{currentUser:t,onIntegrationConnect:e=>{n(s=>[...s,e])},onIntegrationDisconnect:e=>{n(s=>s.filter(s=>s!==e))},onIntegrationConfigure:e=>{},className:"mb-6"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"Accounting"}),s.jsx("p",{className:"text-sm text-green-800 mb-4",children:"Sync invoices, expenses, and financial data with QuickBooks, Xero, and other accounting platforms."}),s.jsxs("ul",{className:"text-xs text-green-700 space-y-1",children:[s.jsx("li",{children:"• Automated invoice generation"}),s.jsx("li",{children:"• Expense tracking and categorization"}),s.jsx("li",{children:"• Financial reporting integration"}),s.jsx("li",{children:"• Tax preparation support"})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Payments"}),s.jsx("p",{className:"text-sm text-blue-800 mb-4",children:"Process payments, manage subscriptions, and handle billing through Stripe and other payment processors."}),s.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[s.jsx("li",{children:"• Online payment processing"}),s.jsx("li",{children:"• Subscription management"}),s.jsx("li",{children:"• Automated billing cycles"}),s.jsx("li",{children:"• Refund and dispute handling"})]})]}),s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-2",children:"Communication"}),s.jsx("p",{className:"text-sm text-purple-800 mb-4",children:"Keep your team connected with Slack, Microsoft Teams, and other communication platforms."}),s.jsxs("ul",{className:"text-xs text-purple-700 space-y-1",children:[s.jsx("li",{children:"• Project notifications"}),s.jsx("li",{children:"• Team collaboration tools"}),s.jsx("li",{children:"• File sharing and storage"}),s.jsx("li",{children:"• Meeting integration"})]})]}),s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-orange-900 mb-2",children:"Productivity"}),s.jsx("p",{className:"text-sm text-orange-800 mb-4",children:"Enhance productivity with Google Calendar, Dropbox, and other productivity tools."}),s.jsxs("ul",{className:"text-xs text-orange-700 space-y-1",children:[s.jsx("li",{children:"• Calendar synchronization"}),s.jsx("li",{children:"• Document management"}),s.jsx("li",{children:"• Task and deadline tracking"}),s.jsx("li",{children:"• Team scheduling"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"API Documentation"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Webhook Integration"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Set up webhooks to receive real-time updates from CortexBuild to your external systems."}),s.jsxs("div",{className:"bg-gray-100 rounded p-3 text-xs font-mono text-gray-800",children:["POST https://your-domain.com/webhook/cortexbuild",s.jsx("br",{}),"Content-Type: application/json",s.jsx("br",{}),"X-Signature: sha256=..."]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"REST API"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Use our REST API to integrate CortexBuild data with your custom applications."}),s.jsxs("div",{className:"bg-gray-100 rounded p-3 text-xs font-mono text-gray-800",children:["GET /api/v1/projects",s.jsx("br",{}),"Authorization: Bearer your-api-key",s.jsx("br",{}),"Content-Type: application/json"]})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"View Full API Documentation"})})]})]})};export{b as IntegrationsScreen};
