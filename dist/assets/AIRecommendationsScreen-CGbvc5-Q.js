import{r as e,j as t}from"./react-core-FGHlRSau.js";import{bk as s,i as a,Z as i,D as n,g as r,e as c,b as l,bl as o,ap as d,a as m}from"./icon-pack-tZfEXMDa.js";import"./vendor-BX0gT1qP.js";const x=({projectContext:x,onRecommendationSelect:p,onImplementRecommendation:g,className:u=""})=>{const[h,y]=e.useState([]),[f,b]=e.useState(!0),[j,v]=e.useState("all"),[N,w]=e.useState("impact"),I=[{id:"1",type:"optimization",title:"Optimize Resource Allocation",description:"Reallocate 2 team members from low-priority tasks to critical path activities to improve project timeline by 15%.",impact:"high",confidence:92,effort:"medium",estimatedSavings:25e3,estimatedTimeReduction:15,category:"Resource Management",tags:["resource","timeline","optimization"],implementationSteps:["Analyze current task priorities","Identify low-priority activities","Reassign team members to critical tasks","Monitor progress and adjust as needed"],prerequisites:["Project manager approval","Team availability"],aiInsights:{reasoning:"Based on project timeline analysis, 23% of team capacity is allocated to non-critical tasks while critical path activities are under-resourced.",dataPoints:["Task priority analysis","Resource utilization metrics","Timeline variance data"],alternatives:["Hire additional resources","Extend project timeline","Reduce scope"]}},{id:"2",type:"risk_mitigation",title:"Implement Safety Protocol Enhancement",description:"Deploy AI-powered safety monitoring system to reduce incident risk by 40% and improve compliance scores.",impact:"high",confidence:88,effort:"low",riskReduction:40,category:"Safety & Compliance",tags:["safety","compliance","monitoring"],implementationSteps:["Install AI monitoring cameras","Configure safety detection algorithms","Train team on new protocols","Monitor and adjust system settings"],prerequisites:["Safety officer approval","Budget allocation"],aiInsights:{reasoning:"Historical data shows 60% of safety incidents occur in areas with limited monitoring. AI detection can identify risks 3x faster than manual inspection.",dataPoints:["Incident history","Monitoring coverage gaps","Compliance metrics"],alternatives:["Increase manual inspections","Install basic monitoring","Implement training programs"]}},{id:"3",type:"cost_saving",title:"Smart Material Procurement",description:"Use AI-driven demand forecasting to optimize material ordering, reducing waste by 25% and saving $15,000.",impact:"medium",confidence:85,effort:"low",estimatedSavings:15e3,category:"Cost Optimization",tags:["procurement","materials","waste reduction"],implementationSteps:["Integrate AI forecasting system","Analyze historical usage patterns","Set up automated ordering rules","Monitor and adjust predictions"],prerequisites:["Procurement system integration","Historical data access"],aiInsights:{reasoning:"Current material waste is 18% above industry average. AI forecasting can predict demand with 94% accuracy, reducing over-ordering.",dataPoints:["Material usage history","Waste metrics","Industry benchmarks"],alternatives:["Manual demand planning","Fixed ordering schedules","Just-in-time delivery"]}},{id:"4",type:"timeline_adjustment",title:"Dynamic Schedule Optimization",description:"Implement AI-powered schedule optimization to identify and resolve bottlenecks, improving delivery time by 20%.",impact:"high",confidence:90,effort:"medium",estimatedTimeReduction:20,category:"Project Management",tags:["scheduling","optimization","bottlenecks"],implementationSteps:["Deploy AI scheduling system","Input project dependencies","Run optimization algorithms","Implement recommended changes"],prerequisites:["Project data integration","Team coordination"],aiInsights:{reasoning:"Analysis shows 3 critical bottlenecks causing 20% delay. AI can optimize task sequencing and resource allocation to eliminate these bottlenecks.",dataPoints:["Task dependencies","Resource constraints","Historical delays"],alternatives:["Manual schedule review","Add more resources","Extend deadlines"]}},{id:"5",type:"resource_allocation",title:"Predictive Team Scaling",description:"Use AI to predict optimal team size for upcoming phases, ensuring right-sized teams and avoiding over/under-staffing.",impact:"medium",confidence:82,effort:"low",estimatedSavings:12e3,category:"Team Management",tags:["team","scaling","prediction"],implementationSteps:["Analyze workload patterns","Predict upcoming requirements","Optimize team composition","Implement scaling plan"],prerequisites:["Workload data","Team availability"],aiInsights:{reasoning:"Current team scaling is reactive, leading to 15% efficiency loss. Predictive scaling can maintain optimal productivity levels.",dataPoints:["Workload forecasts","Team productivity metrics","Historical scaling data"],alternatives:["Fixed team sizes","Reactive scaling","Over-staffing approach"]}}];e.useEffect(()=>{(async()=>{b(!0),await new Promise(e=>setTimeout(e,1500)),y(I),b(!1)})()},[x]);const S=e=>{switch(e){case"optimization":return t.jsx(m,{className:"w-5 h-5 text-blue-600"});case"risk_mitigation":return t.jsx(c,{className:"w-5 h-5 text-red-600"});case"resource_allocation":return t.jsx(d,{className:"w-5 h-5 text-green-600"});case"timeline_adjustment":return t.jsx(r,{className:"w-5 h-5 text-purple-600"});case"cost_saving":return t.jsx(n,{className:"w-5 h-5 text-orange-600"});default:return t.jsx(o,{className:"w-5 h-5 text-gray-600"})}},k=e=>{switch(e){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},R=e=>{switch(e){case"high":return"text-red-600 bg-red-50";case"medium":return"text-yellow-600 bg-yellow-50";case"low":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}},z=[...h.filter(e=>"all"===j||e.category===j)].sort((e,t)=>{switch(N){case"impact":const s={high:3,medium:2,low:1};return s[t.impact]-s[e.impact];case"confidence":return t.confidence-e.confidence;case"effort":const a={low:3,medium:2,high:1};return a[t.effort]-a[e.effort];default:return 0}}),A=["all",...Array.from(new Set(h.map(e=>e.category)))];return f?t.jsx("div",{className:`ai-recommendations ${u}`,children:t.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"AI is analyzing your project..."}),t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Generating personalized recommendations"})]})})})}):t.jsx("div",{className:`ai-recommendations ${u}`,children:t.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[t.jsxs("div",{className:"border-b border-gray-200 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(s,{className:"w-6 h-6 text-blue-600"}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"AI Recommendations"}),t.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:[h.length," suggestions"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100",children:t.jsx(a,{className:"w-5 h-5"})}),t.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100",children:t.jsx(i,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm text-gray-600",children:"Category:"}),t.jsx("select",{value:j,onChange:e=>v(e.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:A.map(e=>t.jsx("option",{value:e,children:"all"===e?"All Categories":e},e))})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm text-gray-600",children:"Sort by:"}),t.jsxs("select",{value:N,onChange:e=>w(e.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",children:[t.jsx("option",{value:"impact",children:"Impact"}),t.jsx("option",{value:"confidence",children:"Confidence"}),t.jsx("option",{value:"effort",children:"Effort"})]})]})]})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"space-y-4",children:z.map(e=>{return t.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>p(e),children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0 mt-1",children:S(e.type)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.title}),t.jsx("p",{className:"text-gray-600 mb-2",children:e.description})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${k(e.impact)}`,children:[e.impact," impact"]}),t.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R(e.effort)}`,children:[e.effort," effort"]}),t.jsxs("span",{className:"text-sm font-medium "+(a=e.confidence,a>=90?"text-green-600":a>=80?"text-yellow-600":"text-red-600"),children:[e.confidence,"% confidence"]})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.estimatedSavings&&t.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[t.jsx(n,{className:"w-5 h-5 text-green-600 mx-auto mb-1"}),t.jsxs("p",{className:"text-sm font-medium text-green-900",children:["$",e.estimatedSavings.toLocaleString()]}),t.jsx("p",{className:"text-xs text-green-600",children:"Potential Savings"})]}),e.estimatedTimeReduction&&t.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[t.jsx(r,{className:"w-5 h-5 text-blue-600 mx-auto mb-1"}),t.jsxs("p",{className:"text-sm font-medium text-blue-900",children:[e.estimatedTimeReduction,"%"]}),t.jsx("p",{className:"text-xs text-blue-600",children:"Time Reduction"})]}),e.riskReduction&&t.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[t.jsx(c,{className:"w-5 h-5 text-red-600 mx-auto mb-1"}),t.jsxs("p",{className:"text-sm font-medium text-red-900",children:[e.riskReduction,"%"]}),t.jsx("p",{className:"text-xs text-red-600",children:"Risk Reduction"})]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[t.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-2 flex items-center gap-2",children:[t.jsx(s,{className:"w-4 h-4 text-blue-600"}),"AI Reasoning"]}),t.jsx("p",{className:"text-sm text-gray-700 mb-2",children:e.aiInsights.reasoning}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.aiInsights.dataPoints.map((e,s)=>t.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded",children:e},s))})]}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.tags.map(e=>t.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:["#",e]},e))}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-sm text-gray-500",children:["Category: ",e.category]}),t.jsx("span",{className:"text-sm text-gray-500",children:"•"}),t.jsxs("span",{className:"text-sm text-gray-500",children:[e.prerequisites.length," prerequisites"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:t=>{t.stopPropagation(),p(e)},className:"px-3 py-1 text-sm text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors",children:"View Details"}),t.jsxs("button",{onClick:t=>{t.stopPropagation(),g(e.id)},className:"px-4 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors flex items-center gap-2",children:[t.jsx(l,{className:"w-4 h-4"}),"Implement"]})]})]})]})]})},e.id);var a})}),0===z.length&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(o,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No recommendations found"}),t.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters or check back later for new suggestions."})]})]})]})})},p=({currentUser:s,projectId:a})=>{const[i,n]=e.useState(null),r={id:a||"1",name:"Office Building Construction",status:"active",budget:25e5,spent:18e5,progress:72,teamSize:15,timeline:{start:"2024-01-01",end:"2024-06-30",milestones:[{name:"Foundation Complete",date:"2024-02-15",status:"completed"},{name:"Frame Complete",date:"2024-04-15",status:"completed"},{name:"Interior Work",date:"2024-05-30",status:"in-progress"},{name:"Final Inspection",date:"2024-06-25",status:"pending"}]},risks:[{type:"Budget Overrun",level:"medium",description:"Material costs increasing"},{type:"Timeline Delay",level:"low",description:"Weather delays possible"},{type:"Safety Incident",level:"low",description:"Standard safety protocols"}],performance:{productivity:87,quality:92,efficiency:85}};return t.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"AI Recommendations"}),t.jsx("p",{className:"text-gray-600",children:"AI-powered insights and recommendations for your project optimization"})]}),t.jsx(x,{projectContext:r,onRecommendationSelect:e=>{n(e)},onImplementRecommendation:e=>{},className:"mb-6"}),i&&t.jsxs("div",{className:"mt-6 p-6 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Selected Recommendation Details"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Implementation Steps"}),t.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm text-blue-800",children:i.implementationSteps.map((e,s)=>t.jsx("li",{children:e},s))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Prerequisites"}),t.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-blue-800",children:i.prerequisites.map((e,s)=>t.jsx("li",{children:e},s))})]})]})]})]})};export{p as AIRecommendationsScreen};
