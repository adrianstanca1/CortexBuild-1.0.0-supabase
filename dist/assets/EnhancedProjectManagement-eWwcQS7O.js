import{r as e,j as s}from"./react-core-FGHlRSau.js";import{t,u as a,r,b as l,ap as i,D as n,ac as d,aN as c,b5 as x,bq as o,aw as m,aj as h,O as g,a4 as u}from"./icon-pack-tZfEXMDa.js";import"./vendor-BX0gT1qP.js";const p=({currentUser:p,navigateTo:b,project:j,isDarkMode:y=!0})=>{const[v,f]=e.useState("overview"),[N,w]=e.useState(null),[k,$]=e.useState(!0),[S]=e.useState([{id:"1",name:"Planning & Design",status:"completed",startDate:"2024-01-15",endDate:"2024-02-15",progress:100,budget:15e4,spent:145e3,teamMembers:["Sarah Johnson","Mike Chen"],deliverables:["Architectural Plans","Permits","Budget Approval"]},{id:"2",name:"Foundation & Structure",status:"active",startDate:"2024-02-16",endDate:"2024-04-15",progress:75,budget:5e5,spent:375e3,teamMembers:["Mike Chen","Emily Rodriguez","David Kim"],deliverables:["Foundation Complete","Structural Framework","Safety Inspections"]},{id:"3",name:"Interior & Finishing",status:"upcoming",startDate:"2024-04-16",endDate:"2024-07-15",progress:0,budget:3e5,spent:0,teamMembers:["Sarah Johnson","Lisa Wang","Tom Wilson"],deliverables:["Interior Design","Final Inspections","Handover"]}]),[C]=e.useState([{id:"1",title:"Foundation Inspection",description:"Complete quality inspection of foundation work",status:"completed",priority:"high",assignee:"Emily Rodriguez",dueDate:"2024-03-15",estimatedHours:8,actualHours:7,tags:["quality","inspection"],attachments:3,comments:5},{id:"2",title:"Structural Steel Installation",description:"Install structural steel framework for building",status:"in-progress",priority:"urgent",assignee:"Mike Chen",dueDate:"2024-03-20",estimatedHours:40,actualHours:25,tags:["construction","steel"],attachments:1,comments:8},{id:"3",title:"Safety Protocol Review",description:"Review and update safety protocols for next phase",status:"review",priority:"medium",assignee:"Sarah Johnson",dueDate:"2024-03-18",estimatedHours:4,actualHours:4,tags:["safety","compliance"],attachments:2,comments:3}]),[D]=e.useState([{category:"Labor",budgeted:2e5,actual:185e3,variance:-15e3,percentage:92.5},{category:"Materials",budgeted:3e5,actual:32e4,variance:2e4,percentage:106.7},{category:"Equipment",budgeted:15e4,actual:14e4,variance:-1e4,percentage:93.3},{category:"Subcontractors",budgeted:2e5,actual:195e3,variance:-5e3,percentage:97.5}]),[T]=e.useState([{id:"1",name:"Sarah Johnson",role:"Project Manager",avatar:"/avatars/sarah.jpg",status:"online",currentTask:"Safety Protocol Review",hoursWorked:45,efficiency:95},{id:"2",name:"Mike Chen",role:"Site Supervisor",avatar:"/avatars/mike.jpg",status:"busy",currentTask:"Structural Steel Installation",hoursWorked:38,efficiency:88},{id:"3",name:"Emily Rodriguez",role:"Safety Officer",avatar:"/avatars/emily.jpg",status:"online",currentTask:"Foundation Inspection",hoursWorked:42,efficiency:92}]);e.useEffect(()=>{const e=setTimeout(()=>$(!1),1e3);return()=>clearTimeout(e)},[]);const F=e=>({completed:"bg-green-500",active:"bg-blue-500",upcoming:"bg-gray-500",delayed:"bg-red-500",todo:"bg-gray-500","in-progress":"bg-blue-500",review:"bg-yellow-500",online:"bg-green-500",offline:"bg-gray-500",busy:"bg-yellow-500"}[e]||"bg-gray-500"),M=e=>{e.actualHours,e.estimatedHours;const t=e.actualHours/e.estimatedHours*100;return s.jsxs("div",{className:`group relative overflow-hidden rounded-2xl border ${y?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} p-6 transition-all duration-300 hover:scale-105 hover:shadow-2xl cursor-pointer`,onClick:()=>b("task-detail",{taskId:e.id}),children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${F(e.status)}`}),s.jsx("span",{className:`text-sm font-medium ${a=e.priority,{low:"text-green-500",medium:"text-yellow-500",high:"text-orange-500",urgent:"text-red-500"}[a]||"text-gray-500"}`,children:e.priority.toUpperCase()})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[e.attachments>0&&s.jsxs("div",{className:"flex items-center space-x-1 text-gray-400",children:[s.jsx(m,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs",children:e.attachments})]}),e.comments>0&&s.jsxs("div",{className:"flex items-center space-x-1 text-gray-400",children:[s.jsx(h,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs",children:e.comments})]})]})]}),s.jsx("h3",{className:"text-lg font-bold mb-2 "+(y?"text-white":"text-gray-900"),children:e.title}),s.jsx("p",{className:`text-sm ${y?"text-gray-400":"text-gray-600"} mb-4`,children:e.description}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm "+(y?"text-gray-400":"text-gray-600"),children:"Assignee"}),s.jsx("span",{className:"text-sm font-medium "+(y?"text-white":"text-gray-900"),children:e.assignee})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm "+(y?"text-gray-400":"text-gray-600"),children:"Due Date"}),s.jsx("span",{className:"text-sm font-medium "+(y?"text-white":"text-gray-900"),children:e.dueDate})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:y?"text-gray-400":"text-gray-600",children:"Hours"}),s.jsxs("span",{className:y?"text-white":"text-gray-900",children:[e.actualHours,"h / ",e.estimatedHours,"h"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full transition-all duration-500 "+(t>100?"bg-red-500":"bg-gradient-to-r from-blue-500 to-purple-500"),style:{width:`${Math.min(t,100)}%`}})})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-700",children:[s.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map(e=>s.jsx("span",{className:"px-2 py-1 bg-purple-500/10 text-purple-400 text-xs rounded-full",children:e},e))}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{type:"button",className:"p-1 hover:bg-gray-700 rounded",onClick:s=>{s.stopPropagation(),b("task-detail",{taskId:e.id})},children:s.jsx(g,{className:"w-4 h-4 text-gray-400"})}),s.jsx("button",{type:"button",className:"p-1 hover:bg-gray-700 rounded",onClick:s=>{s.stopPropagation(),b("edit-task",{taskId:e.id})},children:s.jsx(u,{className:"w-4 h-4 text-gray-400"})})]})]})]},e.id);var a};return k?s.jsx("div",{className:"min-h-screen flex items-center justify-center "+(y?"bg-gray-900":"bg-gray-50"),children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),s.jsx("p",{className:"text-lg font-medium "+(y?"text-white":"text-gray-900"),children:"Loading Project Management..."})]})}):s.jsxs("div",{className:"min-h-screen "+(y?"bg-gray-900":"bg-gray-50"),children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 p-8",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx(FolderKanban,{className:"w-8 h-8 text-white"}),s.jsx("h1",{className:"text-3xl font-bold text-white",children:j?.name||"Project Management"})]}),s.jsx("p",{className:"text-blue-100",children:"Advanced project tracking and team collaboration"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>b("project-settings"),className:"p-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-all backdrop-blur-sm",children:s.jsx(t,{className:"w-5 h-5"})}),s.jsx("button",{type:"button",onClick:()=>b("project-analytics"),className:"p-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-all backdrop-blur-sm",children:s.jsx(a,{className:"w-5 h-5"})}),s.jsxs("button",{type:"button",onClick:()=>b("new-task"),className:"px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-all backdrop-blur-sm flex items-center space-x-2",children:[s.jsx(r,{className:"w-5 h-5"}),s.jsx("span",{children:"New Task"})]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-8",children:[s.jsx("div",{className:"flex space-x-2 mb-8 p-1 bg-gray-800 rounded-xl",children:[{id:"overview",label:"Overview",icon:LayoutDashboard},{id:"tasks",label:"Tasks",icon:l},{id:"team",label:"Team",icon:i},{id:"financial",label:"Financial",icon:n},{id:"timeline",label:"Timeline",icon:d}].map(e=>{const t=e.icon;return s.jsxs("button",{type:"button",onClick:()=>f(e.id),className:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 rounded-lg font-medium transition-all "+(v===e.id?"bg-purple-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-700"),children:[s.jsx(t,{className:"w-5 h-5"}),s.jsx("span",{children:e.label})]},e.id)})}),"overview"===v&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6 "+(y?"text-white":"text-gray-900"),children:"Project Phases"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(e=>{e.budget,e.spent;const t=e.spent/e.budget*100;return s.jsxs("div",{className:`group relative overflow-hidden rounded-2xl border ${y?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} p-6 transition-all duration-300 hover:scale-105 hover:shadow-2xl cursor-pointer`,onClick:()=>w(e.id),children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${F(e.status)}`}),s.jsx("span",{className:"text-sm font-medium "+(y?"text-white":"text-gray-900"),children:e.status.toUpperCase()})]}),s.jsx(o,{className:"w-5 h-5 text-gray-400 group-hover:text-gray-300"})]}),s.jsx("h3",{className:"text-xl font-bold mb-2 "+(y?"text-white":"text-gray-900"),children:e.name}),s.jsxs("p",{className:`text-sm ${y?"text-gray-400":"text-gray-600"} mb-4`,children:[e.startDate," - ",e.endDate]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:y?"text-gray-400":"text-gray-600",children:"Progress"}),s.jsxs("span",{className:y?"text-white":"text-gray-900",children:[e.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-500",style:{width:`${e.progress}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:y?"text-gray-400":"text-gray-600",children:"Budget"}),s.jsxs("span",{className:y?"text-white":"text-gray-900",children:["$",(e.spent/1e3).toFixed(0),"K / $",(e.budget/1e3).toFixed(0),"K"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full transition-all duration-500 "+(t>100?"bg-red-500":"bg-gradient-to-r from-green-500 to-emerald-500"),style:{width:`${Math.min(t,100)}%`}})})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-700",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(i,{className:"w-4 h-4 text-gray-400"}),s.jsxs("span",{className:"text-sm "+(y?"text-gray-400":"text-gray-600"),children:[e.teamMembers.length," members"]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("span",{className:"text-sm "+(y?"text-gray-400":"text-gray-600"),children:[e.deliverables.length," deliverables"]})})]})]},e.id)})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold "+(y?"text-white":"text-gray-900"),children:"Recent Tasks"}),s.jsxs("button",{type:"button",onClick:()=>f("tasks"),className:"text-purple-400 hover:text-purple-300 flex items-center space-x-1",children:[s.jsx("span",{children:"View All"}),s.jsx(c,{className:"w-4 h-4"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.slice(0,3).map(M)})]})]}),"tasks"===v&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold "+(y?"text-white":"text-gray-900"),children:"All Tasks"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{type:"button",className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(x,{className:"w-5 h-5"}),s.jsx("span",{children:"Filter"})]}),s.jsxs("button",{type:"button",onClick:()=>b("new-task"),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(r,{className:"w-5 h-5"}),s.jsx("span",{children:"New Task"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(M)})]}),"team"===v&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold "+(y?"text-white":"text-gray-900"),children:"Team Members"}),s.jsxs("button",{type:"button",onClick:()=>b("add-team-member"),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[s.jsx(r,{className:"w-5 h-5"}),s.jsx("span",{children:"Add Member"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(e=>s.jsxs("div",{className:`group relative overflow-hidden rounded-2xl border ${y?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} p-6 transition-all duration-300 hover:scale-105 hover:shadow-2xl`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:e.name.split(" ").map(e=>e[0]).join("")}),s.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 ${y?"border-gray-800":"border-white"} ${F(e.status)}`})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"text-sm font-medium "+(e.efficiency>=90?"text-green-400":e.efficiency>=80?"text-yellow-400":"text-red-400"),children:[e.efficiency,"% efficiency"]})})]}),s.jsx("h3",{className:"text-lg font-bold mb-1 "+(y?"text-white":"text-gray-900"),children:e.name}),s.jsx("p",{className:`text-sm ${y?"text-gray-400":"text-gray-600"} mb-4`,children:e.role}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:y?"text-gray-400":"text-gray-600",children:"Hours Worked"}),s.jsxs("span",{className:y?"text-white":"text-gray-900",children:[e.hoursWorked,"h"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-500",style:{width:e.hoursWorked/50*100+"%"}})})]}),e.currentTask&&s.jsxs("div",{className:"p-3 bg-gray-700 rounded-lg",children:[s.jsx("p",{className:"text-sm "+(y?"text-gray-300":"text-gray-700"),children:"Current Task:"}),s.jsx("p",{className:"text-sm font-medium "+(y?"text-white":"text-gray-900"),children:e.currentTask})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-700",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:"text-sm "+(y?"text-gray-400":"text-gray-600"),children:e.status})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{type:"button",className:"p-1 hover:bg-gray-700 rounded",onClick:()=>b("team-member-detail",{memberId:e.id}),children:s.jsx(g,{className:"w-4 h-4 text-gray-400"})}),s.jsx("button",{type:"button",className:"p-1 hover:bg-gray-700 rounded",onClick:()=>b("message-member",{memberId:e.id}),children:s.jsx(h,{className:"w-4 h-4 text-gray-400"})})]})]})]},e.id))})]}),"financial"===v&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6 "+(y?"text-white":"text-gray-900"),children:"Financial Overview"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:D.map(e=>{const t=e.actual>e.budgeted,a=t?"text-red-400":"text-green-400",r=t?"bg-red-500":"bg-green-500";return s.jsxs("div",{className:`p-6 rounded-2xl border ${y?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} transition-all duration-300 hover:scale-105 hover:shadow-2xl`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold "+(y?"text-white":"text-gray-900"),children:e.category}),s.jsxs("div",{className:`text-sm font-medium ${a}`,children:[t?"+":"","$",(e.variance/1e3).toFixed(0),"K"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:y?"text-gray-400":"text-gray-600",children:"Budgeted"}),s.jsxs("span",{className:y?"text-white":"text-gray-900",children:["$",(e.budgeted/1e3).toFixed(0),"K"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-gray-500 h-2 rounded-full",style:{width:"100%"}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:y?"text-gray-400":"text-gray-600",children:"Actual"}),s.jsxs("span",{className:y?"text-white":"text-gray-900",children:["$",(e.actual/1e3).toFixed(0),"K"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${r}`,style:{width:`${Math.min(e.percentage,120)}%`}})})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm "+(y?"text-gray-400":"text-gray-600"),children:"Variance"}),s.jsxs("span",{className:`text-sm font-medium ${a}`,children:[e.percentage.toFixed(1),"%"]})]})})]},e.category)})})]}),"timeline"===v&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6 "+(y?"text-white":"text-gray-900"),children:"Project Timeline"}),s.jsx("div",{className:"space-y-6",children:S.map((e,t)=>s.jsx("div",{className:`p-6 rounded-2xl border ${y?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} transition-all duration-300 hover:scale-105 hover:shadow-2xl`,children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${F(e.status)}`,children:s.jsx("span",{className:"text-white font-bold",children:t+1})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold "+(y?"text-white":"text-gray-900"),children:e.name}),s.jsxs("p",{className:"text-sm "+(y?"text-gray-400":"text-gray-600"),children:[e.startDate," - ",e.endDate]}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:y?"text-gray-400":"text-gray-600",children:"Progress"}),s.jsxs("span",{className:y?"text-white":"text-gray-900",children:[e.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-500",style:{width:`${e.progress}%`}})})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium "+(y?"text-white":"text-gray-900"),children:["$",(e.budget/1e3).toFixed(0),"K"]}),s.jsx("div",{className:"text-xs "+(y?"text-gray-400":"text-gray-600"),children:"Budget"})]})]})},e.id))})]})]})]})};export{p as default};
