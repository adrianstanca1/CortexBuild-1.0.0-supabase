import{r as e,j as t}from"./react-core-FGHlRSau.js";import{aj as s,br as a,bf as r,t as i,ap as n,aw as l,o as d,bq as c,bi as o,bj as x,Q as m,bs as g,bt as h,ae as p,aC as u,bu as b,b6 as y,E as j,ao as v}from"./icon-pack-tZfEXMDa.js";import"./vendor-BX0gT1qP.js";const N=({currentUser:N,navigateTo:f,isDarkMode:w=!0})=>{const[C,k]=e.useState("general"),[S,T]=e.useState("chat"),[M,A]=e.useState(""),[P,$]=e.useState(!1),[D,I]=e.useState(!1),[R,E]=e.useState(!1),[L,z]=e.useState(!0),O=e.useRef(null),G=e.useRef(null),[K]=e.useState([{id:"general",name:"General",type:"general",description:"General team discussions",members:["1","2","3","4"],unreadCount:3,lastMessage:{id:"1",senderId:"2",senderName:"Mike Chen",senderAvatar:"/avatars/mike.jpg",content:"The foundation inspection is complete!",timestamp:"2 hours ago",type:"text"},isMuted:!1,isPinned:!0},{id:"project-downtown",name:"Downtown Office Complex",type:"project",description:"Project-specific discussions",members:["1","2","3"],unreadCount:7,lastMessage:{id:"2",senderId:"1",senderName:"Sarah Johnson",senderAvatar:"/avatars/sarah.jpg",content:"Updated the project timeline",timestamp:"1 hour ago",type:"text"},isMuted:!1,isPinned:!1},{id:"safety-team",name:"Safety Team",type:"team",description:"Safety protocols and updates",members:["3","4"],unreadCount:0,lastMessage:{id:"3",senderId:"3",senderName:"Emily Rodriguez",senderAvatar:"/avatars/emily.jpg",content:"New safety guidelines posted",timestamp:"3 hours ago",type:"text"},isMuted:!0,isPinned:!1}]),[U,V]=e.useState([{id:"1",senderId:"2",senderName:"Mike Chen",senderAvatar:"/avatars/mike.jpg",content:"Good morning team! Ready for today's site visit?",timestamp:"09:30 AM",type:"text",reactions:[{emoji:"👍",users:["1","3"],count:2},{emoji:"🚀",users:["4"],count:1}]},{id:"2",senderId:"1",senderName:"Sarah Johnson",senderAvatar:"/avatars/sarah.jpg",content:"Absolutely! I've reviewed the safety checklist. Everything looks good.",timestamp:"09:32 AM",type:"text",replyTo:"1"},{id:"3",senderId:"3",senderName:"Emily Rodriguez",senderAvatar:"/avatars/emily.jpg",content:"I've uploaded the latest safety inspection photos",timestamp:"09:35 AM",type:"text",attachments:[{id:"1",name:"safety-inspection-2024-03-15.pdf",type:"application/pdf",size:2048e3,url:"/files/safety-inspection-2024-03-15.pdf"}]},{id:"4",senderId:"4",senderName:"David Kim",senderAvatar:"/avatars/david.jpg",content:"Great work Emily! The photos look clear and detailed.",timestamp:"09:38 AM",type:"text",reactions:[{emoji:"❤️",users:["3"],count:1}]}]),[F]=e.useState([{id:"1",name:"Sarah Johnson",role:"Project Manager",avatar:"/avatars/sarah.jpg",status:"online",lastSeen:"now",currentProject:"Downtown Office Complex",isTyping:!1},{id:"2",name:"Mike Chen",role:"Site Supervisor",avatar:"/avatars/mike.jpg",status:"busy",lastSeen:"5 minutes ago",currentProject:"Downtown Office Complex",isTyping:!0},{id:"3",name:"Emily Rodriguez",role:"Safety Officer",avatar:"/avatars/emily.jpg",status:"online",lastSeen:"now",currentProject:"Downtown Office Complex",isTyping:!1},{id:"4",name:"David Kim",role:"Quality Inspector",avatar:"/avatars/david.jpg",status:"away",lastSeen:"1 hour ago",currentProject:"Residential Tower",isTyping:!1}]),[J]=e.useState([{id:"1",participants:["1","2","3"],startTime:"2024-03-15T10:00:00Z",duration:45,status:"ended",meetingLink:"https://meet.example.com/abc123"},{id:"2",participants:["1","2","3","4"],startTime:"2024-03-15T14:00:00Z",status:"scheduled",meetingLink:"https://meet.example.com/def456"}]);e.useEffect(()=>{Q()},[U]);const Q=()=>{O.current?.scrollIntoView({behavior:"smooth"})},Z=()=>{if(!M.trim())return;const e={id:Date.now().toString(),senderId:N.id,senderName:N.name,senderAvatar:N.avatar||"/avatars/default.jpg",content:M,timestamp:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),type:"text"};V(t=>[...t,e]),A(""),$(!1)};return t.jsxs("div",{className:"min-h-screen "+(w?"bg-gray-900":"bg-gray-50"),children:[t.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 p-8",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx(s,{className:"w-8 h-8 text-white"}),t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Team Collaboration"})]}),t.jsx("p",{className:"text-blue-100",children:"Real-time communication and team coordination"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{type:"button",onClick:()=>I(!D),className:`p-2 rounded-lg transition-all backdrop-blur-sm ${D?"bg-red-500 hover:bg-red-600":"bg-white/20 hover:bg-white/30"} text-white`,children:D?t.jsx(a,{className:"w-5 h-5"}):t.jsx(r,{className:"w-5 h-5"})}),t.jsx("button",{type:"button",onClick:()=>f("team-settings"),className:"p-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-all backdrop-blur-sm",children:t.jsx(i,{className:"w-5 h-5"})})]})]})})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-8",children:[t.jsx("div",{className:"flex space-x-2 mb-8 p-1 bg-gray-800 rounded-xl",children:[{id:"chat",label:"Chat",icon:s},{id:"video",label:"Video Calls",icon:r},{id:"team",label:"Team",icon:n},{id:"files",label:"Files",icon:l}].map(e=>{const s=e.icon;return t.jsxs("button",{type:"button",onClick:()=>T(e.id),className:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 rounded-lg font-medium transition-all "+(S===e.id?"bg-purple-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-700"),children:[t.jsx(s,{className:"w-5 h-5"}),t.jsx("span",{children:e.label})]},e.id)})}),"chat"===S&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"p-6 rounded-2xl border "+(w?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold "+(w?"text-white":"text-gray-900"),children:"Channels"}),t.jsx("button",{type:"button",className:"p-1 hover:bg-gray-700 rounded",children:t.jsx(Plus,{className:"w-5 h-5 text-gray-400"})})]}),t.jsx("div",{className:"space-y-2",children:K.map(e=>{const a=(r=e.type,{general:s,project:FolderKanban,team:n,private:v}[r]||s);var r;return t.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-colors "+(C===e.id?w?"bg-purple-600":"bg-purple-100":w?"hover:bg-gray-700":"hover:bg-gray-100"),onClick:()=>k(e.id),children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"p-2 rounded-lg "+(w?"bg-gray-700":"bg-gray-200"),children:t.jsx(a,{className:"w-5 h-5 "+(w?"text-gray-300":"text-gray-600")})}),e.isPinned&&t.jsx(b,{className:"absolute -top-1 -right-1 w-3 h-3 text-yellow-400"})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("p",{className:"text-sm font-medium truncate "+(w?"text-white":"text-gray-900"),children:e.name}),e.isMuted&&t.jsx(y,{className:"w-4 h-4 text-gray-400"})]}),e.lastMessage&&t.jsxs("p",{className:"text-xs truncate "+(w?"text-gray-400":"text-gray-600"),children:[e.lastMessage.senderName,": ",e.lastMessage.content]})]}),e.unreadCount>0&&t.jsx("div",{className:"bg-red-500 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center",children:e.unreadCount})]},e.id)})})]})}),t.jsx("div",{className:"lg:col-span-3",children:t.jsxs("div",{className:`h-[600px] rounded-2xl border ${w?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} flex flex-col`,children:[t.jsx("div",{className:"p-4 border-b border-gray-700",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold "+(w?"text-white":"text-gray-900"),children:K.find(e=>e.id===C)?.name}),t.jsx("p",{className:"text-sm "+(w?"text-gray-400":"text-gray-600"),children:K.find(e=>e.id===C)?.description})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{type:"button",className:"p-2 hover:bg-gray-700 rounded",children:t.jsx(d,{className:"w-5 h-5 text-gray-400"})}),t.jsx("button",{type:"button",className:"p-2 hover:bg-gray-700 rounded",children:t.jsx(c,{className:"w-5 h-5 text-gray-400"})})]})]})}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[U.map(e=>{const s=e.senderId===N.id,a=e.reactions&&e.reactions.length>0;return t.jsxs("div",{className:`flex space-x-3 ${s?"flex-row-reverse space-x-reverse":""} mb-4`,children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:e.senderName.split(" ").map(e=>e[0]).join("")})}),t.jsxs("div",{className:"flex-1 "+(s?"text-right":"text-left"),children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("span",{className:"text-sm font-medium "+(w?"text-white":"text-gray-900"),children:e.senderName}),t.jsx("span",{className:"text-xs "+(w?"text-gray-400":"text-gray-600"),children:e.timestamp}),e.isEdited&&t.jsx("span",{className:"text-xs "+(w?"text-gray-400":"text-gray-600"),children:"(edited)"}),e.isPinned&&t.jsx(b,{className:"w-3 h-3 text-yellow-400"})]}),t.jsxs("div",{className:"inline-block max-w-xs lg:max-w-md px-4 py-2 rounded-2xl "+(s?w?"bg-purple-600":"bg-purple-100":w?"bg-gray-700":"bg-gray-200"),children:[t.jsx("p",{className:"text-sm "+(w?"text-white":"text-gray-900"),children:e.content}),e.attachments&&e.attachments.map(e=>t.jsx("div",{className:"mt-2 p-2 bg-gray-600 rounded-lg",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(l,{className:"w-4 h-4 text-gray-300"}),t.jsx("span",{className:"text-sm text-gray-300",children:e.name}),t.jsx(j,{className:"w-4 h-4 text-gray-300 cursor-pointer"})]})},e.id))]}),a&&t.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e.reactions?.map((s,a)=>t.jsxs("button",{type:"button",onClick:()=>{return t=e.id,a=s.emoji,void V(e=>e.map(e=>{if(e.id===t){const t=e.reactions?.find(e=>e.emoji===a);return t?{...e,reactions:e.reactions?.map(e=>e.emoji===a?{...e,count:e.count+1,users:[...e.users,N.id]}:e)}:{...e,reactions:[...e.reactions||[],{emoji:a,users:[N.id],count:1}]}}return e}));var t,a},className:"flex items-center space-x-1 px-2 py-1 bg-gray-600 rounded-full hover:bg-gray-500 transition-colors",children:[t.jsx("span",{children:s.emoji}),t.jsx("span",{className:"text-xs text-gray-300",children:s.count})]},a))})]})]},e.id)}),t.jsx("div",{ref:O})]}),t.jsx("div",{className:"p-4 border-t border-gray-700",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{type:"button",onClick:()=>G.current?.click(),className:"p-2 hover:bg-gray-700 rounded",children:t.jsx(o,{className:"w-5 h-5 text-gray-400"})}),t.jsx("input",{ref:G,type:"file",multiple:!0,className:"hidden",onChange:e=>{const t=e.target.files;t&&Array.from(t).forEach(e=>{const t={id:Date.now().toString(),name:e.name,type:e.type,size:e.size,url:URL.createObjectURL(e)},s={id:Date.now().toString(),senderId:N.id,senderName:N.name,senderAvatar:N.avatar||"/avatars/default.jpg",content:`Shared ${e.name}`,timestamp:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),type:"file",attachments:[t]};V(e=>[...e,s])})}}),t.jsx("div",{className:"flex-1 relative",children:t.jsx("input",{type:"text",value:M,onChange:e=>{A(e.target.value),$(!0)},onKeyPress:e=>{"Enter"===e.key&&Z()},placeholder:"Type a message...",className:`w-full px-4 py-2 rounded-full border ${w?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-gray-100 border-gray-300 text-gray-900 placeholder-gray-500"} focus:outline-none focus:ring-2 focus:ring-purple-500`})}),t.jsx("button",{type:"button",className:"p-2 hover:bg-gray-700 rounded",children:t.jsx(x,{className:"w-5 h-5 text-gray-400"})}),t.jsx("button",{type:"button",onClick:Z,className:"p-2 bg-purple-600 hover:bg-purple-700 text-white rounded-full",children:t.jsx(m,{className:"w-5 h-5"})})]})})]})})]}),"video"===S&&t.jsxs("div",{className:"space-y-6",children:[D&&t.jsxs("div",{className:"p-6 rounded-2xl border "+(w?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold "+(w?"text-white":"text-gray-900"),children:"Active Video Call"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{type:"button",onClick:()=>E(!R),className:`p-2 rounded-lg ${R?"bg-red-500":"bg-gray-600"} text-white`,children:R?t.jsx(g,{className:"w-5 h-5"}):t.jsx(h,{className:"w-5 h-5"})}),t.jsx("button",{type:"button",onClick:()=>z(!L),className:`p-2 rounded-lg ${L?"bg-gray-600":"bg-red-500"} text-white`,children:t.jsx(p,{className:"w-5 h-5"})}),t.jsx("button",{type:"button",onClick:()=>I(!1),className:"p-2 bg-red-500 hover:bg-red-600 text-white rounded-lg",children:t.jsx(a,{className:"w-5 h-5"})})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:F.slice(0,4).map(e=>t.jsx("div",{className:`aspect-video rounded-lg ${w?"bg-gray-700":"bg-gray-200"} flex items-center justify-center`,children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold mx-auto mb-2",children:e.name.split(" ").map(e=>e[0]).join("")}),t.jsx("p",{className:"text-sm "+(w?"text-white":"text-gray-900"),children:e.name})]})},e.id))})]}),t.jsxs("div",{className:"p-6 rounded-2xl border "+(w?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:[t.jsx("h3",{className:"text-lg font-semibold mb-4 "+(w?"text-white":"text-gray-900"),children:"Recent Video Calls"}),t.jsx("div",{className:"space-y-4",children:J.map(e=>t.jsxs("div",{className:`p-4 rounded-lg ${w?"bg-gray-700":"bg-gray-100"} flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:t.jsx(r,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium "+(w?"text-white":"text-gray-900"),children:"Team Meeting"}),t.jsxs("p",{className:"text-xs "+(w?"text-gray-400":"text-gray-600"),children:[e.participants.length," participants"]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm "+(w?"text-white":"text-gray-900"),children:new Date(e.startTime).toLocaleDateString()}),e.duration&&t.jsxs("p",{className:"text-xs "+(w?"text-gray-400":"text-gray-600"),children:[e.duration," minutes"]})]})]},e.id))})]})]}),"team"===S&&t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold "+(w?"text-white":"text-gray-900"),children:"Team Members"}),t.jsxs("button",{type:"button",onClick:()=>f("add-team-member"),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors flex items-center space-x-2",children:[t.jsx(u,{className:"w-5 h-5"}),t.jsx("span",{children:"Add Member"})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.map(e=>{return t.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${w?"hover:bg-gray-700":"hover:bg-gray-100"} transition-colors cursor-pointer`,children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:e.name.split(" ").map(e=>e[0]).join("")}),t.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 ${w?"border-gray-800":"border-white"} ${s=e.status,{online:"bg-green-500",offline:"bg-gray-500",busy:"bg-red-500",away:"bg-yellow-500"}[s]||"bg-gray-500"}`})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("p",{className:`text-sm font-medium ${w?"text-white":"text-gray-900"} truncate`,children:e.name}),e.isTyping&&t.jsx("span",{className:"text-xs text-blue-400",children:"typing..."})]}),t.jsx("p",{className:`text-xs ${w?"text-gray-400":"text-gray-600"} truncate`,children:e.role}),e.currentProject&&t.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.currentProject})]}),t.jsx("div",{className:"text-right",children:t.jsx("p",{className:"text-xs "+(w?"text-gray-400":"text-gray-600"),children:e.lastSeen})})]},e.id);var s})})]}),"files"===S&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold mb-6 "+(w?"text-white":"text-gray-900"),children:"Shared Files"}),t.jsx("div",{className:"p-6 rounded-2xl border "+(w?"bg-gray-800 border-gray-700":"bg-white border-gray-200"),children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx(l,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2 "+(w?"text-white":"text-gray-900"),children:"No files shared yet"}),t.jsx("p",{className:`text-sm ${w?"text-gray-400":"text-gray-600"} mb-4`,children:"Start sharing files with your team by uploading them in chat"}),t.jsx("button",{type:"button",onClick:()=>T("chat"),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:"Go to Chat"})]})})]})]})]})};export{N as default};
